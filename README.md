# 项目简介

该项目是一个**图片与视频上传与管理系统**，旨在帮助用户上传、管理图片和视频文件。系统支持最多50个文件、总大小不超过5GB的文件上传，并根据文件的EXIF信息（对于图片）或视频的元数据（对于视频）自动整理文件到日期目录。项目基于**Flask**框架开发，前端使用HTML、Bootstrap、SweetAlert2等技术。

用户在上传文件时，可以通过表单进行选择，系统会自动提示文件大小、数量限制及上传进度，确保文件上传过程的顺利进行。

该项目提供一个简洁的界面，允许用户上传文件并查看上传进度，以及在上传完成后通过浏览器查看所有上传的文件。

# 部署须知

- **Python版本**：Python 3.12 或以上。
- **Flask框架**：用于构建Web应用。
- **依赖库**：使用 `pip` 安装 `Flask`, `Pillow`, `ffmpeg-python` 等库。
- **浏览器支持**：推荐使用系统浏览器（如 Safari）。其他浏览器需要将应用部署为网站才能正常工作，特别是cookie的处理。

# 目录结构

``` markdown
image-video-upload-system
├── app.py               # 后端主程序
├── uploads              # 上传文件存放目录
│   ├── images           # 图片文件夹
│   ├── videos           # 视频文件夹
│   ├── no_date          # 没有日期信息的文件夹
├── templates            # HTML模板
│   └── index.html       # 上传页面
└── static               # 静态资源（CSS, JS）
    ├── bootstrap.min.css
    ├── bootstrap.bundle.min.js
    └── sweetalert2.min.js
```

# 技术总结

## 后端

### 1. 技术栈
- **Flask**：轻量级Python Web框架，适合构建小型Web应用。
- **Pillow**：Python Imaging Library，用于处理图片EXIF信息。
- **ffmpeg-python**：用于提取视频元数据（例如视频创建时间）。
- **Logging**：记录上传操作及文件管理过程。

### 2. 功能模块

#### 2.1 文件上传
- **上传接口** (`/upload`): 用户可以通过表单选择最多50个文件（图片或视频），上传到服务器。系统会根据文件的类型（图片或视频）以及其元数据自动进行分类存储。
- **文件验证**：限制每次上传文件数目最多为50个，且总文件大小不得超过5GB。
- **文件存储**：文件按照其创建日期自动归类存储，未能识别日期的文件存放在 `no_date` 文件夹。

#### 2.2 文件分类
- **图片处理**：对于支持EXIF的图片（如JPEG、PNG等），提取拍摄日期并按日期归档。
- **视频处理**：提取视频的创建时间并按日期归档。

### 3. 安全性
- **IP记录**：每次上传文件时，系统记录用户的IP地址。
- **上传限制**：严格限制文件数量和总大小，防止滥用。

### 4. 文件管理
- **自动分类**：根据图片EXIF信息或视频元数据自动归类文件。
- **日志记录**：每次上传操作都会生成日志，便于追踪和管理。

## 前端

### 1. 技术栈
- **HTML5**：用于页面结构。
- **Bootstrap**：实现响应式页面布局，提升用户体验。
- **SweetAlert2**：用于弹出提示框，增强用户交互。
- **JavaScript**：用于处理文件上传逻辑、上传进度显示和验证。

### 2. 功能模块

#### 2.1 文件上传
- **文件选择**：用户可以选择最多50个文件进行上传，且总文件大小不得超过5GB。
- **上传提示**：在文件上传过程中，系统会通过SweetAlert2弹出上传进度提示，确保用户清楚上传状态。
- **上传成功提示**：上传完成后，系统会提示用户文件已成功上传，并清理上传表单。

#### 2.2 错误处理
- **文件数量和大小限制**：上传时会检查文件数量是否超过50个，文件总大小是否超过5GB，超限时给出提示。
- **文件类型限制**：仅支持特定类型的文件（如图片、视频等），不支持其他格式的文件。

# 外链

这里是[艺丞科技（北京）有限公司的官网](https://yicheng.bj.cn)。


# 交流

欢迎添加我的微信haiyi-three(商单可接，学校设计单可接。个人全栈开发，App、API、网站、小程序、算法均可做。
